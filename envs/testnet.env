# OttoChain Testnet Environment Template
# Copy to .env in repo root and fill in values from GitHub Secrets or local config
# DO NOT commit actual IPs or secrets to this file

ENVIRONMENT=testnet

# ===== Database =====
POSTGRES_USER=ottochain
POSTGRES_PASSWORD=  # SET THIS
POSTGRES_DB=ottochain
POSTGRES_PORT=5432

# ===== Redis =====
REDIS_PORT=6379

# ===== Metagraph Nodes =====
# Set these from GitHub Secrets or local .env
NODE1_IP=  # TESTNET_NODE1_IP
NODE2_IP=  # TESTNET_NODE2_IP
NODE3_IP=  # TESTNET_NODE3_IP
SERVICES_IP=  # TESTNET_SERVICES_IP

# Layer URLs (constructed from node IPs)
ML0_URL=  # http://${NODE1_IP}:9200
DL1_URL=  # http://${NODE1_IP}:9400
GL0_URLS=  # http://${NODE1_IP}:9000,http://${NODE2_IP}:9000,http://${NODE3_IP}:9000
ML0_URLS=  # http://${NODE1_IP}:9200,http://${NODE2_IP}:9200,http://${NODE3_IP}:9200
DL1_URLS=  # http://${NODE1_IP}:9400,http://${NODE2_IP}:9400,http://${NODE3_IP}:9400

# ===== Services =====
GATEWAY_PORT=4000
BRIDGE_PORT=3030
INDEXER_PORT=3031
MONITOR_PORT=3032

# Webhook callback URL for ML0 to push notifications to indexer
# Must be reachable from ML0 (which runs on host network)
INDEXER_CALLBACK_URL=  # http://${SERVICES_IP}:3031/webhook/snapshot

# ===== Explorer =====
EXPLORER_PORT=8080
EXPLORER_API_URL=  # http://${SERVICES_IP}:4000
EXPLORER_WS_URL=  # ws://${SERVICES_IP}:4000
EXPLORER_BRIDGE_URL=  # http://${SERVICES_IP}:3030

# ===== Monitoring =====
PROMETHEUS_PORT=9090
ALERTMANAGER_PORT=9093
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=  # SET THIS
ALERT_EXTERNAL_HOST=  # ${SERVICES_IP}

# ===== Metagraph Keys =====
CL_PASSWORD=  # SET THIS
CL_KEYALIAS=alias
GL0_PEER_ID=  # Run: java -jar keytool.jar show-id --keystore key.p12 --alias alias --password $CL_PASSWORD
ML0_PEER_ID=
TOKEN_ID=

# ===== Traffic Generator =====
TRAFFIC_AGENT_COUNT=50
TRAFFIC_TPS=2
