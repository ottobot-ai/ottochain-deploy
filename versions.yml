# OttoChain Component Versions
# ===========================================
# This is the SOURCE OF TRUTH for all deployments.
# Update versions here, merge to main, deploy triggers automatically.
#
# Lifecycle:
#   1. Tag release in component repo (e.g., ottochain-services v0.2.0)
#   2. CI builds/pushes artifact (Docker image or JAR)
#   3. PR to update this file with new version
#   4. Merge triggers release-scratch.yml â†’ deploys to scratch env
#
# ===========================================

# === Component Versions ===
components:
  # OttoChain metagraph (Scala) - builds JARs
  ottochain:
    version: "0.5.0"
    repo: "scasplte2/ottochain"
    
  # Tessellation SDK version (external dependency)
  tessellation:
    version: "4.0.0-rc.2"
    repo: "Constellation-Labs/tessellation"
    
  # OttoChain SDK (TypeScript) - npm package
  sdk:
    version: "0.1.0"
    repo: "ottobot-ai/ottochain-sdk"
    
  # OttoChain Services (TypeScript) - Docker image
  services:
    version: "0.2.0"
    image: "ghcr.io/ottobot-ai/ottochain-services"
    repo: "ottobot-ai/ottochain-services"
    
  # OttoChain Explorer (TypeScript) - Docker image
  explorer:
    version: "0.1.0"
    image: "ghcr.io/ottobot-ai/ottochain-explorer"
    repo: "ottobot-ai/ottochain-explorer"

# === Monitoring Stack ===
monitoring:
  prometheus: "v2.50.0"
  alertmanager: "v0.27.0"
  grafana: "10.3.1"
  loki: "2.9.4"
  promtail: "2.9.4"
  node_exporter: "v1.7.0"
  postgres_exporter: "v0.15.0"
  redis_exporter: "v1.56.0"

# === Infrastructure ===
infra:
  postgres: "16-alpine"
  redis: "7-alpine"
  java: "21"

# === Deployed State (updated by CI after successful deploy) ===
# These are the ACTUAL versions running in each environment
deployed:
  scratch:
    ottochain: ""
    services: ""
    explorer: ""
    timestamp: ""
    workflow_run: ""
